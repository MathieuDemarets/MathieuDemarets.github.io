{
  "articles": [
    {
      "path": "about.html",
      "title": "Marginal Impact of Practitioners",
      "description": "Sizing and use case to develop non linear models.",
      "author": [],
      "contents": "\r\n\r\nContents\r\n1. Goal of the research\r\n2. Visualization of diminishing returns\r\n3. Log-Log specification\r\n4. Practical Implications\r\n4.1 Belgium\r\n4.2 Papua New Guinea\r\n\r\n5. Non-linear modelling\r\n\r\n1. Goal of the research\r\nEffective Altruism is a movement that tries to understand how to have the greatest impact for a given effort.\r\nThis quantitative research has been sparked by the book Doing Good Better which claimed that the marginal effect of being a physician in Western Europe was lesser than being a physician in Africa for example. The hypothesis is thus that the amount of Physician Per Capita has a diminishing marginal effect on the Life Expectancy at Birth.\r\nBased on two publicly available World Bank data sets on the amount of practitioners, and on demographics per country, an original merged data set was created. The challenge was to find the years for which records were available for both data set, clean the data, and engineer variables to visualize the relation and test our hypothesis.\r\n\r\n\r\nhide\r\n\r\nload(\"C:\\\\Users\\\\User\\\\Desktop\\\\EA CdL\\\\Test Analysis\\\\Data_Marginal.RDS\")\r\nload(\"C:\\\\Users\\\\User\\\\Desktop\\\\EA CdL\\\\Test Analysis\\\\Population_Data.RDS\")\r\n\r\n\r\n2. Visualization of diminishing returns\r\nIn the first graph, we will see how the amount of physician per 1000 capita has diminishing marginal impact on the life expectancy. Additionally, we will highlight a couple of countries of interest.\r\n\r\n\r\nhide\r\n\r\nlibrary(viridis)\r\nCountry_of_interest <- c(\"Belgium\",\"Costa Rica\",\"Papua New Guinea\",\"Italy\")\r\nGraph_data$Legend <- \"Other\"\r\nfor(i in 1:nrow(Graph_data)){\r\n  if(Graph_data$`Country Name.x`[i]%in%Country_of_interest){Graph_data$Legend[i]<-levels(Graph_data$`Country Name.x`)[as.numeric(Graph_data$`Country Name.x`[i])]}\r\n}\r\n\r\n\r\nplot_ly(\r\n  data = Graph_data,\r\n  x = ~round(X_per_1000,2),\r\n  y = ~round(Impact,2),\r\n  text = ~Graph_data[,1],\r\n  type = \"scatter\",\r\n  mode=\"markers\",\r\n  color = ~Legend,\r\n  colors = \"viridis\"\r\n)%>%\r\n  layout(\r\n    title=\"<b>Visualisation of diminishing returns<\/b>\",\r\n    xaxis = list(title=\"Amount of physician per 1000 capita\"),\r\n    yaxis = list(title=\"Life expectancy\")\r\n  )\r\n\r\n\r\n\r\nhide\r\n\r\nlibrary(rmarkdown)\r\npaged_table(Graph_data[,c(1,3:4)])\r\n\r\n\r\n\r\n\r\n3. Log-Log specification\r\nThanks to the log-log specification, we will be able to see the relation between the % variation of the two variables. We can thereby confirm that the relation is linear and that an increase of 1% in the amount of physician per 1000 capita will increase the life expectancy by 0.0683%.\r\n\r\n\r\nhide\r\n\r\nlm0 <- lm(log(Impact)~log(X_per_1000),data=Graph_data)\r\nsummary(lm0)\r\n\r\n\r\nCall:\r\nlm(formula = log(Impact) ~ log(X_per_1000), data = Graph_data)\r\n\r\nResiduals:\r\n      Min        1Q    Median        3Q       Max \r\n-0.163084 -0.029912  0.006309  0.038050  0.112385 \r\n\r\nCoefficients:\r\n                Estimate Std. Error t value Pr(>|t|)    \r\n(Intercept)     4.272083   0.006110  699.17   <2e-16 ***\r\nlog(X_per_1000) 0.068262   0.004111   16.61   <2e-16 ***\r\n---\r\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r\n\r\nResidual standard error: 0.05464 on 78 degrees of freedom\r\nMultiple R-squared:  0.7795,    Adjusted R-squared:  0.7767 \r\nF-statistic: 275.7 on 1 and 78 DF,  p-value: < 2.2e-16\r\n\r\nhide\r\n\r\ny <- lm0$fitted.values\r\n\r\nplot_ly(\r\n    data = Graph_data,\r\n    x = ~round(log(X_per_1000),2),\r\n    y = ~round(log(Impact),2),\r\n    text = ~Graph_data[,1],\r\n    type = \"scatter\",\r\n    mode=\"markers\",\r\n    color = ~Legend,\r\n    colors = \"viridis\"\r\n  )%>%\r\n  add_trace(\r\n    y = y,\r\n    type = \"scatter\",\r\n    mode = \"lines\",\r\n    color = \"Regression Line\",\r\n    line = list(color = \"black\")\r\n  )%>%\r\n  layout(\r\n    title=\"<b>Log - Log Specification<\/b>\",\r\n    xaxis = list(title=\"Log amount of physician per 1000 capita\"),\r\n    yaxis = list(title=\"Log life expectancy\")\r\n  )\r\n\r\n\r\n\r\n4. Practical Implications\r\nWe will end this report with a comparative numerical example of the marginal utility of an additional physician in Belgium and in Papua New Guinea.\r\n4.1 Belgium\r\n\r\n\r\nhide\r\n\r\n# BELGIUM\r\nCountry <- \"Belgium\"\r\nn_pract <- Population_data[which(Population_data$`Country Name.x`==Country),\"X_per_1000\"]*Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]/1000\r\nnew_X_per_1000 <- (n_pract+1)*1000/Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]\r\ninitial_X_per_1000 <- Population_data[which(Population_data$`Country Name.x`==Country),\"X_per_1000\"]\r\nX_per_1000_incr <- ((new_X_per_1000-initial_X_per_1000)/initial_X_per_1000)\r\nimpact_le_perc <- as.numeric(X_per_1000_incr*lm0$coefficients[2])\r\nimpact_le <- Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)]*(1+impact_le_perc)\r\nimpact_years <- (impact_le-Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)])*Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]\r\nimpact_lifes <- impact_years/Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)]\r\nprint(impact_lifes)\r\n\r\n[1] 11.46186\r\n\r\n4.2 Papua New Guinea\r\n\r\n\r\nhide\r\n\r\n# PAPUA NEW GUINEA\r\nCountry <- \"Papua New Guinea\"\r\nn_pract <- Population_data[which(Population_data$`Country Name.x`==Country),\"X_per_1000\"]*Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]/1000\r\nnew_X_per_1000 <- (n_pract+1)*1000/Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]\r\ninitial_X_per_1000 <- Population_data[which(Population_data$`Country Name.x`==Country),\"X_per_1000\"]\r\nX_per_1000_incr <- ((new_X_per_1000-initial_X_per_1000)/initial_X_per_1000)\r\nimpact_le_perc <- as.numeric(X_per_1000_incr*lm0$coefficients[2])\r\nimpact_le <- Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)]*(1+impact_le_perc)\r\nimpact_years <- (impact_le-Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)])*Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]\r\nimpact_lifes <- impact_years/Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)]\r\nprint(impact_lifes)\r\n\r\n[1] 1032.712\r\n\r\n5. Non-linear modelling\r\nWe found a linear relationship by using the log-log specification but we should remember that even though we found a non-linear relationship between the Life Expectancy and the amount of physicians per 1000 capita, we did it through a linear model.\r\n\r\n\r\nhide\r\n\r\nlibrary(ggplot2)\r\n\r\nggplotly(ggplot(Graph_data,aes(round(X_per_1000,2),round(Impact,2)))+\r\n  geom_point() +\r\n  stat_smooth(method=\"lm\", formula = \"y ~ log(x)\", se=FALSE))\r\n\r\n\r\n\r\nWith the next chunk, we will define a non-linear prediction function and use maximum likelihood function to find the betas of the non-linear model. The biggest advantage of the model is that it takes into account the fact that Life Expectancy seems to flatten after a certain point.\r\n\r\n\r\nhide\r\n\r\npredictor_function <- function(beta,x){\r\n  beta[1]+beta[2]*exp(-beta[3]*x)\r\n}\r\nnon_linear_model <- function(beta,x,y){\r\n  y_hat <- predictor_function(beta,x)\r\n  sum((y-y_hat)^2)\r\n}\r\nbeta <- optim(rnorm(3), non_linear_model, method = \"L-BFGS-B\",\r\n      x = Graph_data$X_per_1000,\r\n      y = Graph_data$Impact,\r\n      lower = c(-Inf,-Inf,1e-5),\r\n      upper = c(Inf,Inf,Inf))$par\r\n\r\nGraph_data$Y_hat <- predictor_function(beta,Graph_data$X_per_1000)\r\n\r\nggplot(data=Graph_data)+\r\n  geom_point(aes(X_per_1000,Impact))+\r\n  geom_line(aes(X_per_1000,Y_hat))\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
      "last_modified": "2022-11-12T17:10:20+01:00"
    },
    {
      "path": "index.html",
      "title": "My Portfolio",
      "description": "Initially studying Business Engineering, I found a dear interest in data analytics. This website is a collection of small projects I played with. I hope these few use cases and related code will generate some ideas for the reader.\n",
      "author": [],
      "contents": "\r\n\r\n\r\n\r\n",
      "last_modified": "2022-11-12T17:10:20+01:00"
    },
    {
      "path": "Questions.html",
      "title": "Exercices Generation",
      "description": "Building an exercice generator for PEMDAS and DIVISOR drills in the context of Schola ULB",
      "author": [],
      "contents": "\r\n\r\nContents\r\n1 PEMDAS\r\n1.1 Function\r\n1.2 Exercices\r\n\r\n2. DIVISION\r\n2.1 Function\r\n2.2 Exercices\r\n\r\n\r\n1 PEMDAS\r\n1.1 Function\r\n\r\n\r\nhide\r\ncalcul_create <- function(n_terms=3,limit=10){\r\n  operations <- c(\"+\",\"-\",\"*\",\"/\",\"**\")\r\n  expression <- as.character(sample(1:limit,1))\r\n  n <- 1\r\n  while(n < n_terms){\r\n    expression <- paste(expression,sample(operations,1),as.character(sample(1:limit,1)))\r\n    n <- n+1\r\n  }\r\n  answer <- eval(parse(text=expression))\r\n  return(list(Question=paste(expression,\"= ?\"),Réponse=round(answer,0)))\r\n}\r\n\r\neasy_question <- function(n_terms=3,limit=10){\r\n  clc <- calcul_create(n_terms,limit)\r\n  while(clc$Réponse != floor(clc$Réponse) | abs(clc$Réponse) >= 1000 | clc$Réponse == 0){\r\n    clc <- calcul_create(n_terms,limit)\r\n  }\r\n  return(clc)\r\n}\r\n\r\nEx.PEMDAS <- function(n_questions=3,n_terms=3,limit=10){\r\n  for(i in 1:n_questions){\r\n    print(paste(\"Question numéro\",i))\r\n    print(easy_question(n_terms,limit))\r\n  }\r\n}\r\n\r\n1.2 Exercices\r\n\r\n\r\nhide\r\n\r\nEx.PEMDAS(5,3,10)\r\n\r\n[1] \"Question numéro 1\"\r\n$Question\r\n[1] \"6 - 10 * 3 = ?\"\r\n\r\n$Réponse\r\n[1] -24\r\n\r\n[1] \"Question numéro 2\"\r\n$Question\r\n[1] \"5 + 3 + 7 = ?\"\r\n\r\n$Réponse\r\n[1] 15\r\n\r\n[1] \"Question numéro 3\"\r\n$Question\r\n[1] \"1 + 7 * 9 = ?\"\r\n\r\n$Réponse\r\n[1] 64\r\n\r\n[1] \"Question numéro 4\"\r\n$Question\r\n[1] \"6 * 3 / 8 = ?\"\r\n\r\n$Réponse\r\n[1] 2\r\n\r\n[1] \"Question numéro 5\"\r\n$Question\r\n[1] \"1 * 9 / 8 = ?\"\r\n\r\n$Réponse\r\n[1] 1\r\n\r\n2. DIVISION\r\n2.1 Function\r\n\r\n\r\nhide\r\n\r\nDiviseurs <- function(n){\r\n  if(n==0){return(\"0 is not accepted\")}\r\n  Diviseurs <- c(NULL)\r\n  Nombre <- NA\r\n  for(i in 1:abs(n)){\r\n    if(abs(n) %% i==0){\r\n      if(n<0){\r\n        Diviseurs <- append(Diviseurs,(-i),length(Diviseurs))\r\n      }else{\r\n        Diviseurs <- append(Diviseurs,i,length(Diviseurs))\r\n      }\r\n    }\r\n  }\r\n  if(length(Diviseurs)==2){\r\n    Nombre = \"Nombre premier\"\r\n  }else if((length(Diviseurs)%%2)!=0){\r\n    Nombre = \"Nombre carré\"\r\n  }else{\r\n    Nombre = \"Nombre rectangle\"\r\n  }\r\n  return(list(Diviseurs=Diviseurs,Type=Nombre,PGD=Diviseurs[abs(Diviseurs)==max(abs(Diviseurs))]))\r\n}\r\n\r\nDiviseurs.Communs <- function(n1,n2){\r\n  if(n1==0 | n2==0){return(\"0 is not accepted\")}\r\n  return(list(\r\n    \"A. Diviseurs communs\"= Diviseurs(n1)[[1]][abs(Diviseurs(n1)[[1]]) %in% abs(Diviseurs(n2)[[1]])],\r\n    \"B. Plus grand diviseur commun\"= ifelse(\r\n      n1<0 & n2<0,\r\n      -max(abs(Diviseurs(n1)[[1]][abs(Diviseurs(n1)[[1]]) %in% abs(Diviseurs(n2)[[1]])])),\r\n      max(abs(Diviseurs(n1)[[1]][abs(Diviseurs(n1)[[1]]) %in% abs(Diviseurs(n2)[[1]])]))\r\n    )\r\n  ))\r\n}\r\n\r\nEx.diviseurs.communs <- function(n=1,rangelow=1,rangehigh=400){\r\n  it <- 1\r\n  while(it <= n){\r\n    n1 = 1; n2 = 1\r\n    while(Diviseurs.Communs(n1,n2)[[2]]==1){\r\n      n1 <- sample(rangelow:rangehigh,1)\r\n      n2 <- sample(rangelow:rangehigh,1)\r\n    }\r\n    print(paste0(\"Question \",it,\": Quel sont les diviseurs communs et le plus grand diviseur commun de \",n1,\" et \",n2,\"?\"))\r\n    print(Diviseurs.Communs(n1,n2))\r\n    it <- it+1\r\n  }\r\n}\r\n\r\n\r\n2.2 Exercices\r\n\r\n\r\nhide\r\n\r\n  Ex.diviseurs.communs(5,0,200)\r\n\r\n[1] \"Question 1: Quel sont les diviseurs communs et le plus grand diviseur commun de 16 et 156?\"\r\n$`A. Diviseurs communs`\r\n[1] 1 2 4\r\n\r\n$`B. Plus grand diviseur commun`\r\n[1] 4\r\n\r\n[1] \"Question 2: Quel sont les diviseurs communs et le plus grand diviseur commun de 98 et 100?\"\r\n$`A. Diviseurs communs`\r\n[1] 1 2\r\n\r\n$`B. Plus grand diviseur commun`\r\n[1] 2\r\n\r\n[1] \"Question 3: Quel sont les diviseurs communs et le plus grand diviseur commun de 24 et 6?\"\r\n$`A. Diviseurs communs`\r\n[1] 1 2 3 6\r\n\r\n$`B. Plus grand diviseur commun`\r\n[1] 6\r\n\r\n[1] \"Question 4: Quel sont les diviseurs communs et le plus grand diviseur commun de 17 et 136?\"\r\n$`A. Diviseurs communs`\r\n[1]  1 17\r\n\r\n$`B. Plus grand diviseur commun`\r\n[1] 17\r\n\r\n[1] \"Question 5: Quel sont les diviseurs communs et le plus grand diviseur commun de 172 et 170?\"\r\n$`A. Diviseurs communs`\r\n[1] 1 2\r\n\r\n$`B. Plus grand diviseur commun`\r\n[1] 2\r\n\r\n\r\n\r\n\r\n",
      "last_modified": "2022-11-12T17:10:23+01:00"
    }
  ],
  "collections": []
}
