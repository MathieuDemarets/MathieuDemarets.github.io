{
  "articles": [
    {
      "path": "about.html",
      "title": "About this site",
      "description": "Some additional details about the website",
      "author": [],
      "contents": "\r\n\r\nContents\r\n1. Goal of the research\r\n2. Visualization of diminishing returns\r\n3. Log-Log specification\r\n4. Practical Implications\r\n5. Non-linear modelling\r\n\r\n1. Goal of the research\r\nThis quantitative research has been sparked by the book Doing Good Better which claimed that the marginal effect of being a physician in Western Europe was lesser than being a physician in Africa for example. The hypothesis is thus that the amount of Physician Per Capita has a diminishing marginal effect on the Life Expectancy at Birth.\r\nBased on two publicly available World Bank data sets on the amount of practitioners, and on demographics per country, an original merged data set was created. The challenge was to find the years for which records were available for both data set, clean the data, and engineer variables to visualize the relation and test our hypothesis.\r\n\r\n\r\nhide\r\n\r\nload(\"C:\\\\Users\\\\User\\\\Desktop\\\\EA CdL\\\\Test Analysis\\\\Data_Marginal.RDS\")\r\nload(\"C:\\\\Users\\\\User\\\\Desktop\\\\EA CdL\\\\Test Analysis\\\\Population_Data.RDS\")\r\n\r\n\r\n2. Visualization of diminishing returns\r\nIn the first graph, we will see how the amount of physician per 1000 capita has diminishing marginal impact on the life expectancy. Additionally, we will highlight a couple of countries of interest.\r\n\r\n\r\nhide\r\n\r\nlibrary(viridis)\r\nCountry_of_interest <- c(\"Belgium\",\"Costa Rica\",\"Papua New Guinea\",\"Italy\")\r\nGraph_data$Legend <- \"Other\"\r\nfor(i in 1:nrow(Graph_data)){\r\n  if(Graph_data$`Country Name.x`[i]%in%Country_of_interest){Graph_data$Legend[i]<-levels(Graph_data$`Country Name.x`)[as.numeric(Graph_data$`Country Name.x`[i])]}\r\n}\r\n\r\n\r\nplot_ly(\r\n  data = Graph_data,\r\n  x = ~round(X_per_1000,2),\r\n  y = ~round(Impact,2),\r\n  text = ~Graph_data[,1],\r\n  type = \"scatter\",\r\n  mode=\"markers\",\r\n  color = ~Legend,\r\n  colors = \"viridis\"\r\n)%>%\r\n  layout(\r\n    title=\"<b>Visualisation of diminishing returns<\/b>\",\r\n    xaxis = list(title=\"Amount of physician per 1000 capita\"),\r\n    yaxis = list(title=\"Life expectancy\")\r\n  )\r\n\r\n\r\n\r\n3. Log-Log specification\r\nThanks to the log-log specification, we will be able to see the relation between the % variation of the two variables. We can thereby confirm that the relation is linear and that an increase of 1% in the amount of physician per 1000 capita will increase the life expectancy by 0.0683%.\r\n\r\n\r\nhide\r\n\r\nlm0 <- lm(log(Impact)~log(X_per_1000),data=Graph_data)\r\nsummary(lm0)\r\n\r\n\r\nCall:\r\nlm(formula = log(Impact) ~ log(X_per_1000), data = Graph_data)\r\n\r\nResiduals:\r\n      Min        1Q    Median        3Q       Max \r\n-0.163084 -0.029912  0.006309  0.038050  0.112385 \r\n\r\nCoefficients:\r\n                Estimate Std. Error t value Pr(>|t|)    \r\n(Intercept)     4.272083   0.006110  699.17   <2e-16 ***\r\nlog(X_per_1000) 0.068262   0.004111   16.61   <2e-16 ***\r\n---\r\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r\n\r\nResidual standard error: 0.05464 on 78 degrees of freedom\r\nMultiple R-squared:  0.7795,    Adjusted R-squared:  0.7767 \r\nF-statistic: 275.7 on 1 and 78 DF,  p-value: < 2.2e-16\r\n\r\nhide\r\n\r\ny <- lm0$fitted.values\r\n\r\nplot_ly(\r\n    data = Graph_data,\r\n    x = ~round(log(X_per_1000),2),\r\n    y = ~round(log(Impact),2),\r\n    text = ~Graph_data[,1],\r\n    type = \"scatter\",\r\n    mode=\"markers\",\r\n    color = ~Legend,\r\n    colors = \"viridis\"\r\n  )%>%\r\n  add_trace(\r\n    y = y,\r\n    type = \"scatter\",\r\n    mode = \"lines\",\r\n    color = \"Regression Line\",\r\n    line = list(color = \"black\")\r\n  )%>%\r\n  layout(\r\n    title=\"<b>Log - Log Specification<\/b>\",\r\n    xaxis = list(title=\"Log amount of physician per 1000 capita\"),\r\n    yaxis = list(title=\"Log life expectancy\")\r\n  )\r\n\r\n\r\n\r\n4. Practical Implications\r\nWe will end this report with a comparative numerical example of the marginal utility of an additional physician in Belgium and in Papua New Guinea.\r\n\r\n\r\nhide\r\n\r\n# BELGIUM\r\nCountry <- \"Belgium\"\r\nn_pract <- Population_data[which(Population_data$`Country Name.x`==Country),\"X_per_1000\"]*Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]/1000\r\nnew_X_per_1000 <- (n_pract+1)*1000/Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]\r\ninitial_X_per_1000 <- Population_data[which(Population_data$`Country Name.x`==Country),\"X_per_1000\"]\r\nX_per_1000_incr <- ((new_X_per_1000-initial_X_per_1000)/initial_X_per_1000)\r\nimpact_le_perc <- as.numeric(X_per_1000_incr*lm0$coefficients[2])\r\nimpact_le <- Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)]*(1+impact_le_perc)\r\nimpact_years <- (impact_le-Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)])*Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]\r\nimpact_lifes <- impact_years/Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)]\r\nprint(impact_lifes)\r\n\r\n[1] 11.46186\r\n\r\n\r\n\r\nhide\r\n\r\n# PAPUA NEW GUINEA\r\nCountry <- \"Papua New Guinea\"\r\nn_pract <- Population_data[which(Population_data$`Country Name.x`==Country),\"X_per_1000\"]*Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]/1000\r\nnew_X_per_1000 <- (n_pract+1)*1000/Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]\r\ninitial_X_per_1000 <- Population_data[which(Population_data$`Country Name.x`==Country),\"X_per_1000\"]\r\nX_per_1000_incr <- ((new_X_per_1000-initial_X_per_1000)/initial_X_per_1000)\r\nimpact_le_perc <- as.numeric(X_per_1000_incr*lm0$coefficients[2])\r\nimpact_le <- Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)]*(1+impact_le_perc)\r\nimpact_years <- (impact_le-Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)])*Population_data[which(Population_data$`Country Name.x`==Country),\"Impact\"]\r\nimpact_lifes <- impact_years/Graph_data$Impact[which(Graph_data$`Country Name.x`==Country)]\r\nprint(impact_lifes)\r\n\r\n[1] 1032.712\r\n\r\n5. Non-linear modelling\r\nWe found a linear relationship by using the log-log specification but we should remember that even though we found a non-linear relationship between the Life Expectancy and the amount of physicians per 1000 capita, we did it through a linear model.\r\n\r\n\r\nhide\r\n\r\nlibrary(ggplot2)\r\n\r\nggplot(Graph_data,aes(round(X_per_1000,2),round(Impact,2)))+\r\n  geom_point() +\r\n  stat_smooth(method=\"lm\", formula = \"y ~ log(x)\", se=FALSE)\r\n\r\n\r\n\r\nWith the next chunk, we will define a non-linear prediction function and use maximum likelihood function to find the betas of the non-linear model. The biggest advantage of the model is that it takes into account the fact that Life Expectancy seems to flatten after a certain point.\r\n\r\n\r\nhide\r\n\r\npredictor_function <- function(beta,x){\r\n  beta[1]+beta[2]*exp(-beta[3]*x)\r\n}\r\nnon_linear_model <- function(beta,x,y){\r\n  y_hat <- predictor_function(beta,x)\r\n  sum((y-y_hat)^2)\r\n}\r\nbeta <- optim(rnorm(3), non_linear_model, method = \"L-BFGS-B\",\r\n      x = Graph_data$X_per_1000,\r\n      y = Graph_data$Impact,\r\n      lower = c(-Inf,-Inf,1e-5),\r\n      upper = c(Inf,Inf,Inf))$par\r\n\r\nGraph_data$Y_hat <- predictor_function(beta,Graph_data$X_per_1000)\r\n\r\nggplot(data=Graph_data)+\r\n  geom_point(aes(X_per_1000,Impact))+\r\n  geom_line(aes(X_per_1000,Y_hat))\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
      "last_modified": "2022-11-12T14:42:34+01:00"
    },
    {
      "path": "index.html",
      "title": "My Website",
      "description": "Welcome to the website. I hope you enjoy it!\n",
      "author": [],
      "contents": "\r\n\r\n\r\n\r\n",
      "last_modified": "2022-11-12T14:42:34+01:00"
    }
  ],
  "collections": []
}
